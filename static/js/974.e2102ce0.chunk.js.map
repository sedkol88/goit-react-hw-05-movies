{"version":3,"file":"static/js/974.e2102ce0.chunk.js","mappings":"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","sources":["api/posts.js","webpack://react-homework-template/./src/components/MovieDetails/movie-details.module.css?79a2","components/MovieDetails/MovieDetails.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  headers: {\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiMThiYTIxZDE1MzI0YzAxNjgwMmVjNTI4NGJkOGEzYiIsInN1YiI6IjY1YmFhNGVjMzNhMzc2MDBlNjg1ZmJmMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fLVvcAoMtoguxzCXZiqFiKcftDcbrmaR_5k4XEIUtk8',\n  },\n});\n\nexport const getAllPosts = () => {\n  return instance.get('/trending/all/day');\n};\n\nexport const getPostById = id => {\n  return instance.get(`/movie/${id}`);\n};\n\nexport const getCastById = id => {\n  return instance.get(`/movie/${id}/credits`);\n};\n\nexport const getReviewsById = id => {\n  return instance.get(`/movie/${id}/reviews`);\n};\n\nexport const fetchSearchMovie = query => {\n  return instance.get('/search/movie', {\n    params: {\n      query,\n    },\n  });\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"singlePost\":\"movie-details_singlePost__ZAzR+\"};","import { useState, useEffect } from 'react';\nimport {\n  useParams,\n  useNavigate,\n  useLocation,\n  Link,\n  Outlet,\n} from 'react-router-dom';\n\nimport { getPostById } from '../../api/posts';\n\nimport styles from './movie-details.module.css';\n\nconst MovieDetails = () => {\n  const [post, setPost] = useState();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { id } = useParams();\n  const location = useLocation();\n\n  const from = location.state?.from || '/';\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchPost = async () => {\n      try {\n        setLoading(true);\n        const { data } = await getPostById(id);\n        setPost(data);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPost();\n  }, [id]);\n\n  const getReleaseYear = dateString => {\n    return dateString ? new Date(dateString).getFullYear() : '';\n  };\n\n  return (\n    <div>\n      {loading && <p>...Loading</p>}\n      {error && <p>Error: {error}</p>}\n      <button onClick={() => navigate(from)} type=\"button\">\n        Go back\n      </button>\n      {post && (\n        <>\n          <div className={styles.singlePost}>\n            <img\n              src={`https://image.tmdb.org/t/p/w500${post.poster_path}`}\n              alt=\"movie poster\"\n              width=\"300\"\n            />\n            <div>\n              <h2>\n                {post.title}\n                {post.name} ({getReleaseYear(post.release_date)})\n              </h2>\n              <p>User score: {Math.floor(post.vote_average * 10)}%</p>\n              <h3>Overview</h3>\n              <p>{post.overview}</p>\n              <h4>Genres</h4>\n              <p>{post.genres.map(genre => genre.name).join(' ')}</p>\n            </div>\n          </div>\n\n          <div>\n            <h3>Additional Information</h3>\n            <ul className={styles.list}>\n              <li>\n                <Link to={`/movies/${id}/cast`} state={{ from }}>\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link to={`/movies/${id}/reviews`} state={{ from }}>\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n          </div>\n          <Outlet />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import MovieDetails from '../../components/MovieDetails/MovieDetails';\n\n// import styles from './movie-details-page.module.css';\n\nconst MovieDetailsPage = () => {\n  return (\n    <div>\n      <MovieDetails />\n    </div>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"names":["instance","axios","baseURL","headers","Authorization","getAllPosts","get","getPostById","id","concat","getCastById","getReviewsById","fetchSearchMovie","query","params","_location$state","_useState","useState","_useState2","_slicedToArray","post","setPost","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","useParams","from","useLocation","state","navigate","useNavigate","useEffect","fetchPost","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getPostById","data","_context","prev","next","sent","t0","message","finish","stop","apply","arguments","dateString","_jsxs","children","_jsx","onClick","type","_Fragment","className","styles","src","poster_path","alt","width","title","name","release_date","Date","getFullYear","Math","floor","vote_average","overview","genres","map","genre","join","Link","to","Outlet","MovieDetails"],"sourceRoot":""}